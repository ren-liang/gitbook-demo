{"./":{"url":"./","title":"首页","keywords":"","body":" SmartCRM系统 集成接口说明文档 V1.0 SmartCRM系统项目组 Copyright © dcits.com 2017 all right reserved，powered by Gitbook修订时间： 2018-01-09 14:41:32 "},"introduction.html":{"url":"introduction.html","title":"概述","keywords":"","body":"编写目的 此文档描述了SmartCRM系统企业微信集成范围及接口规范，用于指导开发人员完成接口开发工作，从而确保SmartCRM移动端顺利上线。 适用范围 NPMC系统对外为企业微信等提供服务接口，此文档供SmartCRM接口开发人员企业微信开发人员参考或相关领导审阅。 Copyright © dcits.com 2017 all right reserved，powered by Gitbook修订时间： 2018-01-09 14:44:08 "},"startdev.html":{"url":"startdev.html","title":"开始开发","keywords":"","body":"术语与简写 SmartCRM： 销售客户管理系统 移动端： 企业微信 NPMC系统：NPMC项目辅助管理系统 接口说明 SmartCRM系统与企业微信接口接入采用HTTP协议,交互报文为JSON。 GET方式调用 GET方式调用时采用查询字符串传参即URL传参的方式 请求方式：get 请求URL：http://ip:port/SmartCRM/api/mydayreport/query?id=123 POST方式调用 POST请求调用时采用请求体传参，NPMC系统规定以下结构请求json报文 请求方式：post 请求URL：http://ip:port/SmartCRM/api/mydayreport/save 请求报文 { } 返回报文 { \"rtnCode\":\"2000\", \"rtnMsg\":\"成功\", \"data\": { } } 返回说明 参数 必须 说明 rtnCode 是 返回码 rtnMsg 是 消息 data 是 响应业务报文 Copyright © dcits.com 2017 all right reserved，powered by Gitbook修订时间： 2018-01-10 11:02:05 "},"changelog.html":{"url":"changelog.html","title":"更新日志","keywords":"","body":"更新日志 2018年01月8日 新建文档 Copyright © dcits.com 2017 all right reserved，powered by Gitbook修订时间： 2018-01-09 14:44:37 "},"list.html":{"url":"list.html","title":"日报首页查询","keywords":"","body":"日报首页查询 接口说明: 用于日报首页数据加载获取客户经理待处理的日报列表根据客户分组，仅查询日报类型为客户拜访，收款、其他三个类型的任务，支持分页查询。 请求方式： GET 请求地址： http://ip:port/SmartCRM/api/mydayreport/list?currentPage=1&showCount=10&date=2018-01-08&itcode=renliangd 参数说明： 参数 必须 说明 currentPage 是 当前页 showCount 是 每页行数 date 是 查询日期 itcode 是 用户ITCode 返回报文： { \"data\": { \"headMsg\":\"当前状态存在8个待处理任务，1个领导指示\", \"yeaterdayIsFinish\":\"Y\", \"total\":\"100\", \"rows\":[ {\"customid\"：\"1\",\"customerName\":\"中信银行\",taskCount\":\"10\",\"logo\":\"ddddddd\"}, {\"customid\"：\"2\",\"customerName\":\"民生银行\",\"taskCount\":\"10\",\"logo\":\"ddddddd\"} ] }, \"rtnMsg\": \"查询成功！\", \"rtnCode\": \"2000\" } 返回说明： 参数 必须 说明 rtnCode 是 返回码 rtnMsg 是 返回消息 data 是 返回数据 headMsg 是 顶部提示消息 yeaterdayIsFinish 是 当前日期的前一天是否有未处理的任务，是：Y，否：N total 是 总行数，整型 rows 是 数据列表 customid 是 客户ID customerName 是 客户名称 taskCount 是 当前客户任务数,整型 logo 是 客户企业LOGO图片BASE64码 Copyright © dcits.com 2017 all right reserved，powered by Gitbook修订时间： 2018-01-10 11:01:26 "},"query.html":{"url":"query.html","title":"日报查询","keywords":"","body":"日报查询 接口说明: 用于根据日期、任务类型、关键字查询日报包括已处理和未处理的日报信息，仅查询日报类型为客户拜访，收款、其他三个类型的任务，支持分页查询。 请求方式： GET 请求地址： http://ip:port/SmartCRM/api/mydayreport/query?currentPage=1&showCount=10&date=2018-01-08&itcode=renliangd&tasktype=1 参数说明： 参数 必须 说明 currentPage 是 当前页 showCount 是 每页行数 date 是 查询日期 itcode 是 用户ITCode tasktype 是 日报类型编码 返回报文： { \"data\": { \"total\":\"100\", \"rows\":[ {\"taskId\"：\"1\",\"displayText\":\"左小强2017171230/zuoxq/中区事业部\"}, {\"taskId\"：\"1\",\"displayText\":\"左小强2017171231/zuoxq/中区事业部\"}, ] }, \"rtnMsg\": \"查询成功！\", \"rtnCode\": \"2000\" } 返回说明： 参数 必须 说明 rtnCode 是 返回码 rtnMsg 是 返回消息 data 是 返回数据 total 是 总行数，整型 rows 是 数据列表 taskId 是 任务ID displayText 是 列表显示文本 Copyright © dcits.com 2017 all right reserved，powered by Gitbook修订时间： 2018-01-10 10:58:09 "},"save.html":{"url":"save.html","title":"日报保存","keywords":"","body":"日报表单提交 接口说明: 保存用户提交的日报表单数据接口，接口根据任务类型判断是那种类型的任务，不同的任务类型请求的表单数据类型不同。 请求方式： POST 请求地址： http://ip:port/SmartCRM/api/mydayreport/save 请求报文： { \"taskId\":\"123\", \"tasktype\":\"1\", \"taskName\":\"任务名称\", \"itcode\":\"renliangd\", \"projectCode\":\"项目编号\", \"projectName\":\"项目编号\", ...... } 参数说明： 参数 必须 说明 taskId 是 任务ID taskName 是 任务名称 tasktype 是 日报类型编码 itcode 是 员工ITCODE projectCode 是 项目编号 projectName 是 项目名称 ... ... ... 返回报文： { \"rtnCode\": \"2000\", \"rtnMsg\": \"保存成功！\", \"data\": {} } 返回说明： 参数 必须 说明 rtnCode 是 返回码 rtnMsg 是 返回消息 data 是 返回数据 Copyright © dcits.com 2017 all right reserved，powered by Gitbook修订时间： 2018-01-09 18:07:42 "},"addtask.html":{"url":"addtask.html","title":"新增客户任务","keywords":"","body":"新增客户任务 接口说明: 用户客户任务新增表单数据提交。 请求方式： POST 请求地址： http://ip:port/SmartCRM/api/mydayreport/addtask 请求报文： { \"customid\":\"123\", \"customerName\":\"123\", \"projectCode\":\"H11Chh88888\", \"projectName\":\"项目名称\", \"taskowner\":\"renliangd\", \"tasktype\":\"任务类型\", \"taskfreq\":\"跟踪频率\", } 参数说明： 参数 必须 说明 customid 是 客户ID customerName 是 客户名称 projectCode 是 项目编号 projectName 是 项目名称 taskowner 是 用户ITCode tasktype 是 日报类型编码 客户拜访：1，客户收款：4，其他：6 taskfreq 是 跟踪频率 1-9 日，周，月，季，明年，不跟踪，本周不，本月不，本季不 ... ... ... 返回报文： { \"rtnCode\": \"2000\", \"rtnMsg\": \"保存成功！\", \"data\": {} } 返回说明： 参数 必须 说明 rtnCode 是 返回码 rtnMsg 是 返回消息 data 是 返回数据 Copyright © dcits.com 2017 all right reserved，powered by Gitbook修订时间： 2018-01-09 18:07:27 "},"addshellchance.html":{"url":"addshellchance.html","title":"新增销售机会","keywords":"","body":"新增销售机会 接口说明: 用户销售机会表单数据提交保存。 请求方式： POST 请求地址： http://ip:port/SmartCRM/api/mydayreport/addshellchance 请求报文： { \"customid\":\"123\", \"customerName\":\"123\", \"projectCode\":\"H11Chh88888\", \"projectName\":\"项目名称\", \"writetcode\":\"renliangd\", \"tasktype\":\"任务类型\", \"trackfreq\":\"跟踪频率\", \"remindfreq\":\"提醒频率\", \"focustime\":\"任务关注时间\", \"taskcontent\":\"任务内容\" } 参数说明： 参数 必须 说明 customid 是 客户ID customerName 是 客户名称 projectCode 是 项目编号 projectName 是 项目名称 writetcode 是 用户ITCode tasktype 是 日报类型编码 客户拜访：1，客户收款：4，其他：6 trackfreq 是 跟踪频率 1-9 日，周，月，季，明年，不跟踪，本周不，本月不，本季不 remindfreq 是 提醒频率 focustime 是 任务关注时间 taskcontent 是 任务你内容 返回报文： { \"rtnCode\": \"2000\", \"rtnMsg\": \"保存成功！\", \"data\": {} } 返回说明： 参数 必须 说明 rtnCode 是 返回码 rtnMsg 是 返回消息 data 是 返回数据 Copyright © dcits.com 2017 all right reserved，powered by Gitbook修订时间： 2018-01-09 18:04:33 "},"projectinfo.html":{"url":"projectinfo.html","title":"查询项目列表","keywords":"","body":"项目列表数据查询 接口说明: 根据关键字查询项目基本信息。 请求方式： GET 请求地址： http://ip:port/SmartCRM/api/mydayreport/projectinfo?keywords=&maxSize=10 参数说明： 参数 必须 说明 keywords 是 检索关键字 maxSize 否 最大结果集 返回报文： { \"data\": { \"total\":\"100\", \"rows\":[ {\"projectCode\"：\"1\",\"projectName\":\"CRM\"}, {\"projectCode\"：\"2\",\"projectName\":\"NPMC\"} ] }, \"rtnMsg\": \"查询成功！\", \"rtnCode\": \"2000\" } 返回说明： 参数 必须 说明 rtnCode 是 返回码 rtnMsg 是 返回消息 data 是 返回数据 total 是 总行数，整型 rows 是 数据列表 projectCode 是 项目编号 projectName 是 项目名称 Copyright © dcits.com 2017 all right reserved，powered by Gitbook修订时间： 2018-01-09 18:19:21 "},"customerinfo.html":{"url":"customerinfo.html","title":"查询客户列表","keywords":"","body":"项目列表数据查询 接口说明: 根据关键字查询客户列表信息。 请求方式： GET 请求地址： http://ip:port/SmartCRM/api/mydayreport/customerinfo?keywords=&maxSize=10 参数说明： 参数 必须 说明 keywords 是 检索关键字 maxSize 否 最大结果集 返回报文： { \"data\": { \"total\":\"100\", \"rows\":[ {\"customid\"：\"1\",\"customName\":\"中信银行\"}, {\"customid\"：\"2\",\"customName\":\"国开行\"} ] }, \"rtnMsg\": \"查询成功！\", \"rtnCode\": \"2000\" } 返回说明： 参数 必须 说明 rtnCode 是 返回码 rtnMsg 是 返回消息 data 是 返回数据 total 是 总行数，整型 rows 是 数据列表 customid 是 客户ID customName 是 客户名称 Copyright © dcits.com 2017 all right reserved，powered by Gitbook修订时间： 2018-01-09 18:22:44 "},"empinfo.html":{"url":"empinfo.html","title":"查询人员列表","keywords":"","body":"项目列表数据查询 接口说明: 根据关键字模糊检索公司人员摘要信息。 请求方式： GET 请求地址： http://ip:port/SmartCRM/api/mydayreport/empinfo?keywords=&maxSize=10 参数说明： 参数 必须 说明 keywords 是 检索关键字 maxSize 否 最大结果集 返回报文： { \"data\": { \"total\":\"100\", \"rows\":[ {\"itcode\"：\"zhangdig\",\"empName\":\"张迪\",\"deptName\":\"业务解决方案部\"}, {\"itcode\"：\"renliangd\",\"empName\":\"任亮\",\"deptName\":\"PMO\"} ] }, \"rtnMsg\": \"查询成功！\", \"rtnCode\": \"2000\" } 返回说明： 参数 必须 说明 rtnCode 是 返回码 rtnMsg 是 返回消息 data 是 返回数据 total 是 总行数，整型 rows 是 数据列表 itcode 是 员工ITCODE empName 是 姓名 deptName 是 部门 Copyright © dcits.com 2017 all right reserved，powered by Gitbook修订时间： 2018-01-09 18:27:46 "},"bankempinfo.html":{"url":"bankempinfo.html","title":"查询客户干系人","keywords":"","body":"项目列表数据查询 接口说明: 根据关键字及行方名称模糊检索银行人员摘要信息。 请求方式： GET 请求地址： http://ip:port/SmartCRM/api/mydayreport/empinfo?keywords=&maxSize=10&bankname= 参数说明： 参数 必须 说明 keywords 否 检索关键字 maxSize 否 最大结果集 bankname 是 银行名称 返回报文： { \"data\": { \"total\":\"100\", \"rows\":[ {\"customerid\":\"68\",custname\"：\"李海宁\",\"custmerdept\":\"软件开发部\",\"custpost\":\"副处长\"}, {\"customerid\":\"68\",\"custname\"：\"李海宁\",\"custmerdept\":\"软件开发部\",\"custpost\":\"副处长\"} ] }, \"rtnMsg\": \"查询成功！\", \"rtnCode\": \"2000\" } 返回说明： 参数 必须 说明 rtnCode 是 返回码 rtnMsg 是 返回消息 data 是 返回数据 total 是 总行数，整型 rows 是 数据列表 customerid 是 客户干系人ID custname 是 客户干系人姓名 custmerdept 是 部门 custpost 是 职务 Copyright © dcits.com 2017 all right reserved，powered by Gitbook修订时间： 2018-01-09 18:44:55 "},"globalrtncode.html":{"url":"globalrtncode.html","title":"全局返回码","keywords":"","body":"接口全局返回码说明 返回码 说明 2000 成功 1000 业务处理失败 9000 系统异常 Copyright © dcits.com 2017 all right reserved，powered by Gitbook修订时间： 2018-01-09 15:42:30 "},"GLOSSARY.html":{"url":"GLOSSARY.html","keywords":"","body":"移动端 企业微信 Copyright © dcits.com 2017 all right reserved，powered by Gitbook修订时间： 2018-01-09 14:45:28 "}}